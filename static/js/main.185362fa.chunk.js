(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(42)},33:function(e,t,a){},39:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),o=(a(33),a(1)),i=a(2),s=a(4),u=a(3),m=a(5),d=a(13),b=a(27),f=a(8),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={isEdite:!0},a.LikeClass=function(){return r.a.createElement("i",{className:"fa fa-heart",style:{cursor:"pointer"},onClick:function(){return a.toggleClass()},"aria-hidden":"true"})},a.disLikeClass=function(){return r.a.createElement("i",{className:"fa fa-heart-o",style:{cursor:"pointer"},onClick:function(){return a.toggleClass()},"aria-hidden":"true"})},a.toggleClass=function(){var e=a.state.isEdite;a.setState({isEdite:!e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.isEdite;return r.a.createElement("div",null,e?this.disLikeClass():this.LikeClass())}}]),t}(n.Component),v=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).raisSort=function(e){var t=a.props.sortColumn;t.path===e?t.order="asc"===t.order?"desc":"asc":(t.path=e,t.order="asc"),a.props.onSort(t)},a.renderSortIcon=function(e){var t=a.props.sortColumn;return e.path!==t.path?null:"asc"===t.order?r.a.createElement("i",{className:"fa fa-sort-asc"}):r.a.createElement("i",{className:"fa fa-sort-desc"})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.columns;return r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,t.map(function(t){return r.a.createElement("th",{key:Math.random(),style:{cursor:"pointer"},onClick:function(){return e.raisSort(t.path)}}," ",t.lable," ",e.renderSortIcon(t)," ")})))}}]),t}(n.Component),p=a(12),g=a.n(p),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).renderCell=function(e,t){return t.content?t.content(e):g.a.get(e,t.path)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.columns;return console.log(a),r.a.createElement("tbody",null,a.map(function(t){return r.a.createElement("tr",{key:Math.random()},n.map(function(a){return r.a.createElement("td",{key:Math.random()}," ",e.renderCell(t,a)," ")}))}))}}]),t}(n.Component),E=function(e){var t=e.columns,a=e.onSort,n=e.sortColumn,l=e.data;return r.a.createElement("table",{className:"table"},r.a.createElement(v,{columns:t,onSort:a,sortColumn:n}),r.a.createElement(y,{data:l,columns:t}))},S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).columns=[{path:"title",lable:"Title",content:function(e){return r.a.createElement(f.b,{to:"/movies/".concat(e._id)},e.title)}},{path:"genre.name",lable:"Genre"},{path:"numberInStock",lable:"Stock"},{path:"dailyRentalRate",lable:"Rate"},{key:"like",content:function(e){return r.a.createElement(h,null)}},{key:"Delete",content:function(e){return r.a.createElement("button",{onClick:function(){return a.props.onDelete(e)},className:"btn btn-danger"},"Delete")}}],a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.onSort,n=e.sortColumn;return r.a.createElement(E,{data:t,columns:this.columns,onSort:a,sortColumn:n})}}]),t}(n.Component),k=function(e){var t=e.items,a=e.pageSize,n=e.currentPage,l=e.onPageSelect,c=Math.ceil(t/a);if(1===c)return null;var o=g.a.range(1,c+1);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},o.map(function(e){return r.a.createElement("li",{key:e,style:{cursor:"pointer"},className:e===n?"page-item active":"page-item"},r.a.createElement("a",{onClick:function(){return l(e)},className:"page-link"},e))})))},j=function(e){var t=e.genres,a=e.onSelectedGenre,n=e.selectedGenre,l=e.textProperty;return r.a.createElement("ul",{className:"list-group"},t.map(function(e){return r.a.createElement("li",{key:e._id,onClick:function(){return a(e)},style:{cursor:"pointer"},className:n===e?"list-group-item active":"list-group-item"},e[l])}))};j.defaultProps={valueProperty:"_id",textProperty:"name"};var O=j,C=function(e){var t=e.value,a=e.onChange;return r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"query",className:"form-control my-3",placeholder:"Search...",value:t,onChange:function(e){return a(e.target.value)}}))},w=[{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"}];function N(){return w.filter(function(e){return e})}var R=[{_id:"5b21ca3eeb7f6fbccd471815",title:"Terminator",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:6,dailyRentalRate:2.5,publishDate:"2018-01-03T19:04:28.809Z",liked:!0},{_id:"5b21ca3eeb7f6fbccd471816",title:"Die Hard",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:5,dailyRentalRate:2.5},{_id:"5b21ca3eeb7f6fbccd471817",title:"Get Out",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:8,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471819",title:"Trip to Italy",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181a",title:"Airplane",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181b",title:"Wedding Crashers",genre:{_id:"5b21ca3eeb7f6fbccd471814",name:"Comedy"},numberInStock:7,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd47181e",title:"Gone Girl",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:7,dailyRentalRate:4.5},{_id:"5b21ca3eeb7f6fbccd47181f",title:"The Sixth Sense",genre:{_id:"5b21ca3eeb7f6fbccd471820",name:"Thriller"},numberInStock:4,dailyRentalRate:3.5},{_id:"5b21ca3eeb7f6fbccd471821",title:"The Avengers",genre:{_id:"5b21ca3eeb7f6fbccd471818",name:"Action"},numberInStock:7,dailyRentalRate:3.5}];var I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[],genres:[],currentPage:1,pageSize:3,searchQuery:"",selectedGenre:null,sortColumn:{path:"title",order:"asc"}},a.componentDidMount=function(){var e=[{_id:"",name:"All Genres"}].concat(Object(b.a)(N()));a.setState({movies:R,genres:e})},a.handelEvents=function(){var e=a.state,t=e.movies,n=e.selectedGenre,r=e.searchQuery,l=e.sortColumn,c=e.pageSize,o=e.currentPage,i=t;r?i=t.filter(function(e){return e.title.toLowerCase().startsWith(r.toLowerCase())}):n&&n._id&&(i=t.filter(function(e){return e.genre._id===n._id}));var s=function(e,t,a){var n=(t-1)*a;return g()(e).slice(n).take(a).value()}(g.a.orderBy(i,[l.path],[l.order]),o,c);return{totalCount:i.length,data:s}},a.handelDelete=function(e){var t=a.state.movies.filter(function(t){return t._id!==e._id});a.setState({movies:t})},a.handelPageSelect=function(e){a.setState({currentPage:e})},a.handelGenreSelect=function(e){a.setState({selectedGenre:e,searchQuery:"",currentPage:1})},a.handelSort=function(e){a.setState({sortColumn:e})},a.handelSearch=function(e){a.setState({searchQuery:e,selectedGenre:null,currentPage:1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.movies.length,t=this.state,a=t.sortColumn,n=t.pageSize,l=t.currentPage,c=t.searchQuery;if(0===e)return r.a.createElement("h4",null,"There is no movies to show on database");var o=this.handelEvents(),i=o.totalCount,s=o.data;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-3"},r.a.createElement(O,{genres:this.state.genres,selectedGenre:this.state.selectedGenre,onSelectedGenre:this.handelGenreSelect})),r.a.createElement("div",{className:"col"},r.a.createElement(f.b,{className:"btn btn-primary",to:"/movies/new"},"New Movie"),r.a.createElement("h4",null,"There is ",i," movies on database"),r.a.createElement(C,{value:c,onChange:this.handelSearch}),r.a.createElement(S,{movies:s,sortColumn:a,onDelete:this.handelDelete,onSort:this.handelSort}),r.a.createElement(k,{items:i,pageSize:n,currentPage:l,onPageSelect:this.handelPageSelect})))}}]),t}(n.Component),_=function(){return r.a.createElement("h1",null,"Customers")},A=function(){return r.a.createElement("h1",null,"Rentals")},P=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("span",{className:"navbar-brand"},"Logo"),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item "},r.a.createElement(f.c,{className:"nav-link",to:"/movies"},"Movies")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.c,{className:"nav-link",to:"/customers"},"Customers")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.c,{className:"nav-link",to:"/rentals"},"Rentals")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.c,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(f.c,{className:"nav-link",to:"/register"},"Register")))))},G=function(){return r.a.createElement("h1",null,"Error - Not Found")},T=a(20),D=a(16),M=function(e){var t=e.name,a=e.label,n=e.errors,l=Object(D.a)(e,["name","label","errors"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t},a),r.a.createElement("input",Object.assign({},l,{name:t,id:t,className:"form-control"})),n&&r.a.createElement("div",{className:"alert alert-danger"}," ",n," "))},x=function(e){var t=e.name,a=e.label,n=e.options,l=e.errors,c=Object(D.a)(e,["name","label","options","errors"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:t}," ",a),r.a.createElement("select",Object.assign({},c,{name:t,id:t,className:"custom-select"}),r.a.createElement("option",{value:""}),n.map(function(e){return r.a.createElement("option",{key:e._id,value:e._id},e.name)})),l&&r.a.createElement("div",{className:"alert alert-danger"},l))},q=a(7),L=a.n(q);function B(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.validate=function(){var e=L.a.validate(a.state.data,a.schema,{abortEarly:!1}).error;if(!e)return null;var t,n={},r=B(e.details);try{for(r.s();!(t=r.n()).done;){var l=t.value;n[l.path[0]]=l.message}}catch(c){r.e(c)}finally{r.f()}return n},a.handelSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(T.a)({},t,n),l=Object(T.a)({},t,a.schema[t]),c=L.a.validate(r,l).error;return c?c.details[0].message:null},a.handelChange=function(e){var t=e.target,n=a.state.errors,r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var l=a.state.data;l[t.name]=t.value,a.setState({data:l,errors:n})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"renderInput",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text",n=this.state,l=n.errors,c=n.data;return r.a.createElement(M,{type:a,name:e,value:c[e],label:t,onChange:this.handelChange,className:"form-control",errors:l[e]})}},{key:"renderSelect",value:function(e,t,a){var n=this.state,l=n.data,c=n.errors;return r.a.createElement(x,{name:e,value:l[e],label:t,onChange:this.handelChange,options:a,errors:c[e]})}},{key:"renderButton",value:function(e){return r.a.createElement("button",{disabled:this.validate(),className:"btn btn-primary"},e)}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",genreId:"",numberInStock:"",dailyRentalRate:""},genres:[],errors:{}},a.schema={title:L.a.string().required().label("Title"),genreId:L.a.string().required().label("Genre"),numberInStock:L.a.number().required().min(0).max(10).label("NumberInStock"),dailyRentalRate:L.a.number().required().min(0).max(10).label("DailyRentalRate")},a.doSubmit=function(){!function(e){var t=R.find(function(t){return t._id===e._id})||{};t.title=e.title,t.genre=w.find(function(t){return t._id===e.genreId}),t.numberInStock=e.numberInStock,t.dailyRentalRate=e.dailyRentalRate,t._id||(t._id=Date.now().toString(),R.push(t))}(a.state.data),a.props.history.push("/movies")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=N();this.setState({genres:e});var t=this.props.match.params.id;if("new"!==t){var a,n=(a=t,R.find(function(e){return e._id===a}));if(!n)return this.props.history.replace("/not-found");this.setState({data:this.mapToViewModel(n)})}}},{key:"mapToViewModel",value:function(e){return{title:e.title,genreId:e.genre._id,numberInStock:e.numberInStock,dailyRentalRate:e.dailyRentalRate}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"New Movie"),r.a.createElement("form",{onSubmit:this.handelSubmit},this.renderInput("title","Title"),this.renderSelect("genreId","Genre",this.state.genres),this.renderInput("numberInStock","NumberInStock"),this.renderInput("dailyRentalRate","DailyRentalRate"),this.renderButton("Save")))}}]),t}(Q),W=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",password:""},errors:{}},a.schema={username:L.a.string().required().label("Username").email(),password:L.a.string().required().label("Password").min(5)},a.doSubmit=function(){console.log("submitetd")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handelSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","Password"),this.renderButton("Login")))}}]),t}(Q),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{username:"",password:"",name:""},errors:{}},a.schema={username:L.a.string().required().label("Username").email(),password:L.a.string().required().label("Password").min(5),name:L.a.string().required().label("Name")},a.doSubmit=function(){console.log("Registered")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:this.handelSubmit},this.renderInput("username","Username"),this.renderInput("password","Password","password"),this.renderInput("name","Name"),this.renderButton("Register")))}}]),t}(Q),J=(a(39),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"container"},r.a.createElement(P,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/movies/:id",component:U}),r.a.createElement(d.b,{path:"/movies",exact:!0,component:I}),r.a.createElement(d.b,{path:"/customers",component:_}),r.a.createElement(d.b,{path:"/rentals",component:A}),r.a.createElement(d.b,{path:"/login",component:W}),r.a.createElement(d.b,{path:"/register",component:F}),r.a.createElement(d.b,{path:"/not-found",component:G}),r.a.createElement(d.a,{from:"/",to:"/movies"}),r.a.createElement(d.a,{to:"/not-found"}))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(40),a(41);c.a.render(r.a.createElement(f.a,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}},[[28,1,2]]]);
//# sourceMappingURL=main.185362fa.chunk.js.map